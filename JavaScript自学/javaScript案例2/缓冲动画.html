<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="js/jquery-3.4.1.js" type="text/javascript"></script>
		<style>
			*{margin: 0;padding: 0;}
			#box{width: 100px;height: 100px;position: absolute;background-color: red;}
		</style>
		<script>
			window.onload = function () {
				var box = document.getElementById('box');
				var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
				var windowHeight = document.documentElement.clientHeight || document.body.clientHeight;
				var iH = parseInt(scrollTop + (windowHeight - box.offsetHeight) / 2);
				
				Move(iH);
				
				//滚动时
				window.onscroll = function () {
					var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
					var windowHeight = document.documentElement.clientHeight || document.body.clientHeight;
					var iH = parseInt(scrollTop + (windowHeight - box.offsetHeight) / 2);
					
					Move(iH);
				}
			}
			
			var timer = null;
			function Move(iTarget) {
				var box = document.getElementById('box');
				clearInterval(timer);
				timer = setInterval(function(){
					var speed = (iTarget - box.offsetTop) / 8;
					speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
					
					if(box.offsetTop == iTarget){
						clearInterval(timer);
					}else{
						box.style.top = box.offsetTop + speed + 'px';
					}
				},30)
			}
		</script>
	</head>
	<body style="height: 3000px;">
		<div id="box"></div>
	</body>
</html>
