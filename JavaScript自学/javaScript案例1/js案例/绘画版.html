<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			* {
				margin: 0px;
				padding: 0px;
			}
			
			#container2 {
				display: flex;
				align-items: center;
				justify-content: center;
				flex-wrap: wrap;
				max-width: 400px;
				margin: 100px auto;
			}

			.square {
				background-color: #1d1d1d;
				box-shadow: 0 0 2px #000;
				margin: 2px;
				width: 16px;
				height: 16px;
				transition: 2s ease;
			}
			.square:hover{
				transition-duration: 0s;
			}
		</style>
	</head>
	<body>
		<div id="container2"></div>
		<script>
			(function (){
				const container = document.getElementById('container2')
				const colors = ['#e74c3c', '#8e44ad', '#3498db', '#e67e22', '#2ecc71'] //颜色存入数组
				const squareTotal = 500
				
				for (let i = 0; i < squareTotal; i++) {
					const square = document.createElement('div')
					square.classList.add('square')
					square.addEventListener('mouseover', () => {
						setColorToEl(square)
					})
					square.addEventListener('mouseout', () => {
						removeColorFromEl(square)
					})
					
					container.appendChild(square)
				}
				
				//setColorToEl
				function setColorToEl(element) {
					const color = getRandomColor()
					element.style.background = color
					element.style.boxShadow = '0 0 2px ${color}, 0 0 10px ${color}'
				}
				
				//removeColorFromEl
				function removeColorFromEl(element) {
					element.style.background = '#1d1d1d'
					element.style.boxShadow = '0 0 2px #000'
				}
				
				//创建随机颜色
				function getRandomColor() {
					return colors[Math.floor(Math.random() * colors.length)]
				}
			})()
		</script>
	</body>
</html>
